---
import { i18n } from '@helpers/i18n'
const { t } = i18n(Astro.url)

interface Props {
    thin?:  boolean;
}

const {
    thin = false,
} = Astro.props

import { marked } from 'marked';
import { renderer } from '@helpers/marked';

import Wrapper from '@components/compositions/Wrapper.astro'
import Flexblock from '@components/compositions/Flexblock.astro'

import StylessButton from '@components/blocks/StylessButton.astro';
---

<div class:list={[ 'banner', { thin } ]}>
    <StylessButton class="[ background-image ]" href='https://markeedragon.com' external={true}>
        <img width="343" height="115" src="/images/markeedragon-logo.png" alt="MarkeeDragon Logo" />
    </StylessButton>

    <Wrapper padding_block='0' padding_inline='var(--space-s)' max_width='360px' class="[ relative ]">
        <Flexblock>
            <Flexblock gap='var(--space-3xs)'>
                <h2>
                    <Flexblock gap='var(--space-3xs)'>
                        <span set:html={marked.parse(t('markeedragon_banner_first'), { renderer })}></span>
                        <span class="[ blinking ]">{t('markeedragon_banner_second')}</span>
                    </Flexblock>
                </h2>
            </Flexblock>
        </Flexblock>
    </Wrapper>
</div>

<style lang="scss">
    .banner {
        position: relative;
        min-height: 172px;
        overflow: hidden;
        display: flex;
        align-items: center;
        background-color: var(--fleet-red);

        &.thin {
            min-height: 110px;
        }

        .background-image {
            position: absolute;
            left: 345px;

            animation: buoyancy ease both 30s;
            animation-iteration-count: infinite;
        }

        h2 {
            font-size: var(--step-2);
            line-height: 1;

            b {
                font-weight: 500;
            }
        }

        h2 {
            color: var(--fleet-yellow);
        }
    }

    .blinking {
        animation-duration: 2s;
        animation-name: blink;
        animation-iteration-count: infinite;
        font-size: var(--step-1);
    }

    @keyframes buoyancy {
        0% {
            bottom: -5px;
        }

        50% {
            bottom: 10px;
        }

        100% {
            bottom: -5px;
        }
    }
</style>
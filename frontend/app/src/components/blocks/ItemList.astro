---
import { get_item_icon_by_name } from '@helpers/eve_image_server';

import type { ItemListItem } from '@dtypes/layout_components';

import Wrapper from '@components/compositions/Wrapper.astro';
import Grid from '@components/compositions/Grid.astro';
import Flexblock from '@components/compositions/Flexblock.astro';
import SmallThumbText from './SmallThumbText.astro';

interface Props {
    title: string;
    items: ItemListItem[];
}

const {
    title,
    items,
} = Astro.props
---

<Wrapper
    class="[ card component ][ light-transparency ]"
    padding_block='var(--space-l)'
    padding_inline='var(--space-l-xl)'
    max_width='100%'
>
    <Flexblock class="[ w-full ]" gap='var(--space-m)'>
        <h2>{title}</h2>
        <Grid
            role="list"
            class="[ w-full ]"
            min_item_width='270px'
            row_gap='var(--space-s-m)'
            column_gap='var(--space-s-m)'
        >
            {items.map((item) => 
                <SmallThumbText role="listitem" image={get_item_icon_by_name(item.alt)} alt={item.alt} text={item.name} />
            )}
        </Grid>
    </Flexblock>
</Wrapper>

<style lang="scss">
    .wrapper {
        display: flex;
        align-items: center;
    }

    a[href] {
        text-decoration: none;
        color: var(--highlight);
    }
</style>
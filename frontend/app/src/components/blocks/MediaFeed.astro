---
const FEEDS = [
    {
        title: 'FL33T YC127 In Review',
        id: '-BIQ5UIF3N0',
        cover: 'https://i.ytimg.com/vi/-BIQ5UIF3N0/maxresdefault.jpg',
    }, {
        title: 'FL33T 2024 In Review',
        id: '6aBxAbMp5sQ',
        cover: 'https://i.ytimg.com/vi_webp/6aBxAbMp5sQ/maxresdefault.webp',
    }, {
        title: 'We Are Minmatar (Fleet Alliance)',
        id: 'JMddiOzaDsA',
        cover: 'https://i.ytimg.com/vi/JMddiOzaDsA/maxresdefault.jpg',
    }, {
        title: 'Minmatar Fleet Alliance ATXX Advertisement',
        id: 'jC0v8p0SHfM',
        cover: 'https://i.ytimg.com/vi_webp/jC0v8p0SHfM/maxresdefault.webp',
    }, {
        title: 'Minmatar Fleet Alliance vs Sedition: The Drill Wars',
        id: 'QW_Z3nQXdsQ',
        cover: 'https://i.ytimg.com/vi/QW_Z3nQXdsQ/maxresdefault.jpg',
    }, {
        title: 'RUDE takes FL33T to Pochven',
        id: 'zExlJ2PWH24',
        cover: 'https://i.ytimg.com/vi/zExlJ2PWH24/maxresdefault.jpg',
    }, {
        title: 'FL33T + Shadow Cartel vs SEDIT. Drill Fight',
        id: 'e8kRJwuUPx0',
        cover: 'https://i.ytimg.com/vi/e8kRJwuUPx0/maxresdefault.jpg',
    }, {
        title: 'Minmatar Fleet Alliance: The Drums of Liberation',
        id: 'juN4ET8kFxk',
        cover: 'https://i.ytimg.com/vi/juN4ET8kFxk/maxresdefault.jpg',
    }, {
        title: 'This is FL33T: The Moon Wars',
        id: 'ZeRKPROksXg',
        cover: 'https://i.ytimg.com/vi/ZeRKPROksXg/maxresdefault.jpg',
    }, {
        title: 'TYPHOONS | EVE ONLINE',
        id: 'VbDzNRCEJlw',
        cover: 'https://i.ytimg.com/vi/VbDzNRCEJlw/maxresdefault.jpg',
    }, {
        title: 'FL33T Structure Defense',
        id: 'BBcYuOGhfMU',
        cover: 'https://i.ytimg.com/vi/BBcYuOGhfMU/maxresdefault.jpg',
    }, {
        title: 'Back in New Eden(Lowsec PVP)',
        id: 'HT6KjhWQ4mU',
        cover: 'https://i.ytimg.com/vi_webp/HT6KjhWQ4mU/maxresdefault.webp',
    }, {
        title: 'Talwars - Eve Online Minmatar Faction Warfare',
        id: 'M7VAjMgjBP4',
        cover: 'https://i.ytimg.com/vi/M7VAjMgjBP4/maxresdefault.jpg?sqp=-oaymwEmCIAKENAF18quKqQMa8AEB-AH-CYAC0AWKAgwIABABGH8gHigYMA8=&rs=AOn4CLBWWDKENw89_AnTHIzTBj1mjOwqTw',
    }, {
        title: 'EVE Online - PVP - Anti-Provi BLOPS Campagin',
        id: 'GkTzWSbV2SQ',
        cover: 'https://i.ytimg.com/vi/GkTzWSbV2SQ/maxresdefault.jpg?sqp=-oaymwEmCIAKENAF18quKqQMa8AEB-AH-CYAC0AWKAgwIABABGGUgXChIMA8=&rs=AOn4CLBdWBNXdtzEEuwHj5Qb18n2w1v9EQ',
    }, {
        title: 'How to die in EVE Online | Minmatar Training Video',
        id: 'sP-iIc6nn5k',
        cover: 'https://i.ytimg.com/vi_webp/sP-iIc6nn5k/maxresdefault.webp',
    },
]

import YTVideoWidget from '@components/blocks/YTVideoWidget.astro';
---

<div class="[ swiper media-swiper ][ w-full border ]">
    <div
        class="[ swiper-wrapper ][ select-none w-full ]"
        x-data={`{
            swiper: null,
            corporation_pagination(index) {
                return this.pagination_icons[index]
            },
            init() {
                this.swiper = new Swiper('.media-swiper', {
                    slidesPerView: 1,
                    spaceBetween: 20,
                    pagination: {
                        clickable: true,
                        dynamicBullets: true,
                        el: ".media-swiper-pagination",
                    },
                    loop: false,
                    fadeEffect: {
                        crossFade: true
                    },
                    navigation: {
                        nextEl: '.swiper-button-next',
                        prevEl: '.swiper-button-prev',
                    },
                });
            }
        }`}
    >
        {FEEDS.map((feed) =>
            <div class="[ swiper-slide ]">
                <YTVideoWidget
                    videoid={feed.id}
                    videotitle={feed.title}
                >
                    {feed.cover && <img slot="image" src={feed.cover} />}
                </YTVideoWidget>
            </div>
        )}
    </div>
</div>

<div class="swiper-pagination media-swiper-pagination"></div>

<div class="[ swiper-button-prev hidden lg:block! ]"></div>
<div class="[ swiper-button-next hidden lg:block! ]"></div>

<style lang="scss">
    :global(.swiper-pagination-bullet) {
        --swiper-pagination-bullet-border-radius: 0;
    }

    .swiper-pagination {
        --swiper-pagination-color: var(--fleet-yellow);
        --swiper-pagination-bullet-inactive-color: var(--highlight);
        --swiper-pagination-bullet-inactive-opacity: 1;
    }

    :global(.swiper-slide:first-child lite-youtube) {
        transform: scale(1.01);
    }

    .swiper-wrapper {
        flex-wrap: nowrap;
        align-items: flex-start;
    }

    .alliance-reel {
        position: relative;
    }

    .swiper-button-prev,
    .swiper-button-next {
        --swiper-navigation-color: var(--highlight);
        --swiper-navigation-sides-offset: -46px;

        opacity: 0;
    }

    .swiper-initialized ~ .swiper-button-prev,
    .swiper-initialized ~ .swiper-button-next {
        opacity: 1;
    }

    .swiper-initialized ~ .swiper-button-next.swiper-button-disabled,
    .swiper-initialized ~ .swiper-button-prev.swiper-button-disabled {
        opacity: 0;
    }

    .swiper-button-next.swiper-button-disabled,
    .swiper-button-prev.swiper-button-disabled {
        --swiper-navigation-color: var(--fleet-yellow);
        opacity: 1;
    }

    .swiper-button-prev {
        transform: translateY(0);
    }

    .swiper-button-next {
        transform: translateY(0);
    }

    .media-swiper {
        opacity: 0;
        transition: var(--fast-transition);
        //mask-image: linear-gradient(to right, transparent 0%, black 3%, black 97%, transparent 100%);

        &.swiper-initialized {
            opacity: 1;
        }
    }

    .media-swiper {
        max-width: 656px;
        max-height: 369px;
    }

    .swiper-slide {
        width: 100% !important;
    }

    .swiper-initialized + #alliance-reel-animation {
        opacity: 0;
    }

    #alliance-reel-animation {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translateX(-50%, -50%);
    }
</style>
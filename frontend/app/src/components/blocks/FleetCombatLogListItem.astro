---
import { i18n } from '@helpers/i18n'
const { lang, t, translatePath } = i18n(Astro.url)

import type { FleetCombatLog } from '@dtypes/layout_components'
import { format_date_time } from '@helpers/date'

interface Props {
    log:        FleetCombatLog;
}

const {
    log,
} = Astro.props

import PilotBadge from '@components/blocks/PilotBadge.astro';
import StylessButton from './StylessButton.astro';
---

<StylessButton class="[ w-full ]" href={translatePath(`/intel/combatlog/${log.id}`)}>
    <PilotBadge
        class="[ w-full ]"
        character_id={log.logger.character_id}
        character_name={log.logger.character_name}
    >
        <small>{format_date_time(lang, log.uploaded_at)}</small>
    </PilotBadge>
</StylessButton>

<style lang="scss">
    small {
        color: var(--foreground);
    }
</style>
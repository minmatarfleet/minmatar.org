---
import Flexblock from '@components/compositions/Flexblock.astro';
import GroupItem from '@components/blocks/GroupItem.astro';

import type { GroupItemUI, GroupItemType } from '@dtypes/layout_components'

const name = Astro.url.searchParams.get('name')
const description = Astro.url.searchParams.get('description')
const image_url = JSON.parse(JSON.stringify(Astro.url.searchParams.get('image_url')))
const message = Astro.url.searchParams.get('message')
const type = Astro.url.searchParams.get('type') as GroupItemType

const group:GroupItemUI = {
    id: 0,
    name: name,
    description: description,
    image_url: JSON.parse(image_url)
}
---

<Flexblock>
    <p set:html={message} />
    <GroupItem
        group={group}
        type={type}
    />
</Flexblock>
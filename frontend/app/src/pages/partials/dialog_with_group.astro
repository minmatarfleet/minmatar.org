---
import { getLangFromUrl, useTranslations } from '@i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

import Flexblock from '@components/compositions/Flexblock.astro';
import GroupItem from '@components/blocks/GroupItem.astro';
import Partial from '@layouts/Partial.astro';

import type { Group } from '@dtypes/api.minmatar.org'

const name = Astro.url.searchParams.get('name')
const description = Astro.url.searchParams.get('description')
const image_url = JSON.parse(Astro.url.searchParams.get('image_url'))
const message = Astro.url.searchParams.get('message')

const group:Group = {
    id: 0,
    name: name,
    description: description,
    image_url: JSON.parse(image_url)
}
---
<Partial>
    <Flexblock>
        <p>{message}</p>
        <GroupItem group={group} />
    </Flexblock>
</Partial>
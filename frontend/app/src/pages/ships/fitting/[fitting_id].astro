---
import { i18n } from '@helpers/i18n'
const { translatePath } = i18n(Astro.url)

const id = parseInt(Astro.params?.fitting_id ?? '0')

const render_view = translatePath(`/ships/fitting/render/${id}`)
const normal_view = translatePath(`/ships/fitting/normal/${id}`)
---

<script define:vars={{ render_view, normal_view }}>
import { navigate } from "astro:transitions/client";

    const render_enabled = JSON.parse(localStorage.getItem('_x_render_enabled') ?? 'true')

    if (window.innerWidth > 1820 && render_enabled === true)
        navigate(render_view)
    else
        navigate(normal_view)
</script>
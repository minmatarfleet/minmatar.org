---
import { getLangFromUrl, useTranslatedPath } from '@i18n/utils';

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);

const id = parseInt(Astro.params?.fitting_id ?? '0')

const render_view = translatePath(`/ships/fitting/render/${id}`)
const normal_view = translatePath(`/ships/fitting/normal/${id}`)
---

<script define:vars={{ render_view, normal_view }}>
    const render_enabled = JSON.parse(localStorage.getItem('_x_render_enabled'))

    if (window.innerWidth > 1820 && render_enabled === true)
        window.location.href = render_view
    else
        window.location.href = normal_view
</script>